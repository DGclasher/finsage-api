# Test configuration

# H2 Database for testing
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false

spring.h2.console.enabled=true

# Redis configuration for tests - will fail gracefully if Redis not available
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.timeout=1000ms
spring.data.redis.lettuce.pool.max-active=1
spring.data.redis.lettuce.pool.max-idle=1

# Test logging
logging.level.org.finsage.api=INFO
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN
logging.level.org.springframework.data.redis=ERROR

# Disable management endpoints in tests
management.endpoints.enabled-by-default=false

# Override environment variables for tests
POSTGRES_DB=testdb
POSTGRES_USER=sa
POSTGRES_PASSWORD=
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
REDIS_HOST=localhost
REDIS_PORT=6379
GOOGLE_CLIENT_ID=test-client-id
GOOGLE_CLIENT_SECRET=test-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8080/test
JWT_SECRET=test-jwt-secret-key-for-testing-purposes-only

# Cache configuration for tests
CACHE_EXPIRATION_MINUTES=1
